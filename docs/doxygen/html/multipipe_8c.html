<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Minishell: src/execution/multipipe.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Minishell
   </div>
   <div id="projectbrief">minishell avec un m miniscule</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('multipipe_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">multipipe.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="minishell_8h_source.html">minishell.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for multipipe.c:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="multipipe_8c__incl.svg" width="100%" height="440"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac70e2499b8aeb789658ff4596ded7221"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multipipe_8c.html#ac70e2499b8aeb789658ff4596ded7221">close_fd_heredocs</a> (<a class="el" href="minishell_8h.html#a4fac5b0c1334043d22fc2631fd6277c7">t_cmd</a> *top_stack, <a class="el" href="minishell_8h.html#a4fac5b0c1334043d22fc2631fd6277c7">t_cmd</a> *current)</td></tr>
<tr class="memdesc:ac70e2499b8aeb789658ff4596ded7221"><td class="mdescLeft">&#160;</td><td class="mdescRight">as we are going to fork and create process, the new process will have inherited of all the opened fd. Which is a problem because we don't need all the file descriptor open =&gt; so te be sure we are going to close all the heredoc not useful in our situation  <a href="multipipe_8c.html#ac70e2499b8aeb789658ff4596ded7221">More...</a><br /></td></tr>
<tr class="separator:ac70e2499b8aeb789658ff4596ded7221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461ae962ce9a1aee7221ac4b9c581f98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multipipe_8c.html#a461ae962ce9a1aee7221ac4b9c581f98">execute_child</a> (<a class="el" href="minishell_8h.html#a4fac5b0c1334043d22fc2631fd6277c7">t_cmd</a> *temp, <a class="el" href="minishell_8h.html#abb217954475dbe33e716f1a5f1c8f68b">t_minishell</a> *minishell)</td></tr>
<tr class="separator:a461ae962ce9a1aee7221ac4b9c581f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31c329200501f497cd102a470450103"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multipipe_8c.html#af31c329200501f497cd102a470450103">multipipe_intermediary_cmd</a> (<a class="el" href="minishell_8h.html#a4fac5b0c1334043d22fc2631fd6277c7">t_cmd</a> *temp, <a class="el" href="minishell_8h.html#abb217954475dbe33e716f1a5f1c8f68b">t_minishell</a> *minishell, pid_t *last)</td></tr>
<tr class="memdesc:af31c329200501f497cd102a470450103"><td class="mdescLeft">&#160;</td><td class="mdescRight">it's where the fork happen and sent to be execute  <a href="multipipe_8c.html#af31c329200501f497cd102a470450103">More...</a><br /></td></tr>
<tr class="separator:af31c329200501f497cd102a470450103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b21b82386f20636501d279a66b7260d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multipipe_8c.html#a9b21b82386f20636501d279a66b7260d">close_redir_temp</a> (<a class="el" href="minishell_8h.html#a4fac5b0c1334043d22fc2631fd6277c7">t_cmd</a> *temp)</td></tr>
<tr class="memdesc:a9b21b82386f20636501d279a66b7260d"><td class="mdescLeft">&#160;</td><td class="mdescRight">in the case of an error in the redirection, we have a case where the here_doc opened in a previous situation is still open (the error happening before we go check the fd open of the heredoc). So if something happen we have to close that dangling fd  <a href="multipipe_8c.html#a9b21b82386f20636501d279a66b7260d">More...</a><br /></td></tr>
<tr class="separator:a9b21b82386f20636501d279a66b7260d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f1c217eeb689ecbc622baecd2c5dec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multipipe_8c.html#aa4f1c217eeb689ecbc622baecd2c5dec">multipipe_cmd</a> (<a class="el" href="minishell_8h.html#abb217954475dbe33e716f1a5f1c8f68b">t_minishell</a> *minishell)</td></tr>
<tr class="memdesc:aa4f1c217eeb689ecbc622baecd2c5dec"><td class="mdescLeft">&#160;</td><td class="mdescRight">management of the multipipe (= name when we have at least one pipe) First step is to manage the heredoc Then we are going to go throught each node of the linked list of command Each time we check the redirection =&gt; to manage error and create documents If no error =&gt; sent to execute (fork will happen anyway)  <a href="multipipe_8c.html#aa4f1c217eeb689ecbc622baecd2c5dec">More...</a><br /></td></tr>
<tr class="separator:aa4f1c217eeb689ecbc622baecd2c5dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac70e2499b8aeb789658ff4596ded7221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70e2499b8aeb789658ff4596ded7221">&#9670;&nbsp;</a></span>close_fd_heredocs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close_fd_heredocs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="minishell_8h.html#a4fac5b0c1334043d22fc2631fd6277c7">t_cmd</a> *&#160;</td>
          <td class="paramname"><em>top_stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="minishell_8h.html#a4fac5b0c1334043d22fc2631fd6277c7">t_cmd</a> *&#160;</td>
          <td class="paramname"><em>current</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>as we are going to fork and create process, the new process will have inherited of all the opened fd. Which is a problem because we don't need all the file descriptor open =&gt; so te be sure we are going to close all the heredoc not useful in our situation </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">top_stack</td><td></td></tr>
    <tr><td class="paramname">current</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="multipipe_8c_ac70e2499b8aeb789658ff4596ded7221_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a9b21b82386f20636501d279a66b7260d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b21b82386f20636501d279a66b7260d">&#9670;&nbsp;</a></span>close_redir_temp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close_redir_temp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="minishell_8h.html#a4fac5b0c1334043d22fc2631fd6277c7">t_cmd</a> *&#160;</td>
          <td class="paramname"><em>temp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>in the case of an error in the redirection, we have a case where the here_doc opened in a previous situation is still open (the error happening before we go check the fd open of the heredoc). So if something happen we have to close that dangling fd </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">temp</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="multipipe_8c_a9b21b82386f20636501d279a66b7260d_cgraph.svg" width="286" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="multipipe_8c_a9b21b82386f20636501d279a66b7260d_icgraph.svg" width="542" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a461ae962ce9a1aee7221ac4b9c581f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a461ae962ce9a1aee7221ac4b9c581f98">&#9670;&nbsp;</a></span>execute_child()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void execute_child </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="minishell_8h.html#a4fac5b0c1334043d22fc2631fd6277c7">t_cmd</a> *&#160;</td>
          <td class="paramname"><em>temp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="minishell_8h.html#abb217954475dbe33e716f1a5f1c8f68b">t_minishell</a> *&#160;</td>
          <td class="paramname"><em>minishell</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="multipipe_8c_a461ae962ce9a1aee7221ac4b9c581f98_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="multipipe_8c_a461ae962ce9a1aee7221ac4b9c581f98_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa4f1c217eeb689ecbc622baecd2c5dec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4f1c217eeb689ecbc622baecd2c5dec">&#9670;&nbsp;</a></span>multipipe_cmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int multipipe_cmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="minishell_8h.html#abb217954475dbe33e716f1a5f1c8f68b">t_minishell</a> *&#160;</td>
          <td class="paramname"><em>minishell</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>management of the multipipe (= name when we have at least one pipe) First step is to manage the heredoc Then we are going to go throught each node of the linked list of command Each time we check the redirection =&gt; to manage error and create documents If no error =&gt; sent to execute (fork will happen anyway) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">top_stack</td><td></td></tr>
    <tr><td class="paramname">top_env</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="multipipe_8c_aa4f1c217eeb689ecbc622baecd2c5dec_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="multipipe_8c_aa4f1c217eeb689ecbc622baecd2c5dec_icgraph.svg" width="359" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af31c329200501f497cd102a470450103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31c329200501f497cd102a470450103">&#9670;&nbsp;</a></span>multipipe_intermediary_cmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int multipipe_intermediary_cmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="minishell_8h.html#a4fac5b0c1334043d22fc2631fd6277c7">t_cmd</a> *&#160;</td>
          <td class="paramname"><em>temp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="minishell_8h.html#abb217954475dbe33e716f1a5f1c8f68b">t_minishell</a> *&#160;</td>
          <td class="paramname"><em>minishell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pid_t *&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>it's where the fork happen and sent to be execute </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">temp</td><td>it's the node of t_cmd we are going to execute </td></tr>
    <tr><td class="paramname">top_stack</td><td></td></tr>
    <tr><td class="paramname">top_env</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="multipipe_8c_af31c329200501f497cd102a470450103_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="multipipe_8c_af31c329200501f497cd102a470450103_icgraph.svg" width="618" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_bd0755c95a42e835fb06f38bbeb1d6ed.html">execution</a></li><li class="navelem"><a class="el" href="multipipe_8c.html">multipipe.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
